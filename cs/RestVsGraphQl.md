### **REST API VS GraphQL**

### - **REST API의 장점과 단점**

- **장점**

  - REST는 기본적으로 웹의 기존 기술과 HTTP 프로토콜을 그대로 활용하기 때문에 웹의 장점을 최대한 활용할 수 있는 아키텍쳐 스타일이다.
  - HTTP 프로토콜을 사용하므로 REST API 사용을 위한 인프라를 구축할 필요가 없다.
  - HTTP 표준프로토콜을 따르는 모든 플랫폼에서 호환된다. (범용성)
  - REST API 메시지가 의도하는 바를 명확하게 나타내므로 의도하는 바를 쉽게 파악할 수 있다.
  - 서버와 클라이언트의 역할을 명확하게 분리한다.

- **단점**

  - 표준이 존재하지 않는다.
  - 사용할수 있는 메소드가 4가지 밖에 없다.
  - 구형의 브라우저가 아직 지원하지 못하는 부분이 존재한다.

### - **GraphQL**

- GraphQL 은 Graph Query Language의 약어이다.
- Query Language 는 정보를 얻기 위해 보내는 질의문(Query)을 만들기 위해 사용되는 Computer 언어의 일종이다.

- iOS 와 Android 에서 필요한 정보들이 조금씩 달랐고, 그 다른 부분마다 API 를 구현하는 것이 힘들었다.
- 이 때문에 정보를 사용하는 측에서 원하는 대로 정보를 가져올 수 있고, 보다 편하게 정보를 수정할 수 있도록 하는 표준화된 Query language를 만들게 되었다.

### - **Endpoint**

- GraphQL API 는 주로 전체 API를 위해서 하나의 Endpoint
- REST API 는 하나의 리소스에 대한 하나의 Endpoint가 존재

### - **GraphQL의 장점과 단점**

- 장점

1. HTTP 요청의 횟수를 줄일 수 있다.

RESTful 은 각 Resource 종류 별로 요청을 해야하고, 따라서 요청 횟수가 필요한 Resource 의 종류에 비례한다.

반면 GraphQL 은 원하는 정보를 하나의 Query 에 모두 담아 요청하는 것이 가능하다.

2. HTTP 응답의 Size 를 줄일 수 있다.

RESTful 은 응답의 형태가 정해져있고, 따라서 필요한 정보만 부분적으로 요청하는 것이 힘들다.

반면 GraphQL 은 원하는 대로 정보를 요청하는 것이 가능하다.

- 단점

1. File 전송 등 Text 만으로 하기 힘든 내용들을 처리하기 복잡하다.

2. 고정된 요청과 응답만 필요할 경우에는 Query 로 인해 요청의 크기가 RESTful API 의 경우보다 더 커진다.

3. 재귀적인 Query 가 불가능하다. (결과에 따라 응답의 깊이가 얼마든지 깊어질 수 있는 API 를 만들 수 없다.)

### - **그럼 둘중에 어떤걸 사용해야 할까?**

- GraphQL

  - 서로 다른 모양의 다양한 요청들에 대해 응답할 수 있어야 할 때
  - 대부분의 요청이 CRUD(Create-Read-Update-Delete)에 해당할 때

- REST API
  - HTTP 와 HTTPs 에 의한 Caching 을 잘 사용하고 싶을 때
  - File 전송 등 단순한 Text 로 처리되지 않는 요청들이 있을 때
  - 요청의 구조가 정해져 있을 때
